<launch>
  <env name="GAZEBO_MODEL_PATH" value="${GAZEBO_MODEL_PATH}:$(find auto_trax_gazebo)/models"/>
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find auto_trax_gazebo)/worlds/laser_scan_walls.world"/>
    <arg name="paused" value="false" />
    <arg name="gui" value="true" />
  </include>

  <node name="laser_scan_merger_node" pkg="auto_trax_sensors" type="laser_scan_merger_node" output="screen">
    <param name="scan_center_pub_topic" value="scan_center" />
    <param name="merged_scan_pub_topic" value="merged_scan" />
    <param name="scan_summary_pub_topic" value="scan_summary" />
    <param name="scan_sub_topic" value="/scan" />
    <param name="frame_id_left" value="camera_left" />
    <param name="frame_id_right" value="camera_right" />
    <param name="left_camera_offset" value="0.2" />
    <param name="left_camera_orientation" value="45" />
    <param name="right_camera_offset" value="-0.2" />
    <param name="right_camera_orientation" value="-45" />
  </node>

  <node name="drive_to_center_test_node" pkg="auto_trax_path_planning" type="drive_to_centroid_node" output="screen" />

  <include file="$(find auto_trax_controller)/launch/steering_angle_controller.launch" />

  <include file="$(find auto_trax_io)/launch/driver_interface.launch" />
</launch>
